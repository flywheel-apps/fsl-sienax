{
  "name": "fsl-sienax",
  "label": "FSL: SIENAX - Brain tissue volume, normalised for subject head size",
  "description": "FSL's SIENAX. Sienax estimates total brain tissue volume, from a single image, normalised for skull size. It calls a series of FSL programs: It first strips non-brain tissue, and then uses the brain and skull images to estimate the scaling between the subject's image and standard space. It then runs tissue segmentation to estimate the volume of brain tissue, and multiplies this by the estimated scaling factor, to reduce head-size-related variability between subjects. Inputs should be structural image (T1-weighted, T2-weighted, PD, etc) where the in-plane resolution is better than 2mm (ideally 1mm). Outputs consist of an archive containing the results of the analysis, as well as an HTML report summarizing the analysis findings. This Gear also provides the option of using optiBET for brain extraction.",
  "author": "Analysis Group, FMRIB, Oxford, UK.",
  "maintainer": "Flywheel <support@flywheel.io>",
  "license": "Apache-2.0",
  "url": "https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/SIENA",
  "source": "https://github.com/flywheel-apps/fsl-sienax",
  "cite": "S.M. Smith, Y. Zhang, M. Jenkinson, J. Chen, P.M. Matthews, A. Federico, and N. De Stefano. Accurate, robust and automated longitudinal and cross-sectional brain change analysis. NeuroImage, 17(1):479-489, 2002.  S.M. Smith, M. Jenkinson, M.W. Woolrich, C.F. Beckmann, T.E.J. Behrens, H. Johansen-Berg, P.R. Bannister, M. De Luca, I. Drobnjak, D.E. Flitney, R. Niazy, J. Saunders, J. Vickers, Y. Zhang, N. De Stefano, J.M. Brady, and P.M. Matthews. Advances in functional and structural MR image analysis and implementation as FSL. NeuroImage, 23(S1):208-219, 2004.  If using optiBET option, cite: Lutkenhoff ES, Rosenberg M, Chiang J, Zhang K, Pickard JD, Owen AM, Monti MM. (2014) Optimized Brain Extraction for Pathological Brains (optiBET). PLoS ONE 9(12): e115551. doi:10.1371/journal.pone.0115551",
  "version": "1.0.0_5.0_optibet",
  "custom": {
    "flywheel": {
      "suite": "FSL"
    },
    "gear-builder": {
      "category": "analysis",
      "image": "flywheel/fsl-sienax:1.0.0_5.0_optibet"
    }
  },
  "inputs": {
    "key": {
      "base": "api-key"
    },
    "NIFTI": {
      "base": "file",
      "optional": false,
      "description": "Structural NIfTI file to be processed. Note that the default behavior of SIENA assumes that the input images are T1w. If you provide a T2w image as input, be sure to set the \"T2\" configuration option == True.",
      "type": {
        "enum": [
          "nifti"
        ]
      }
    },
    "lesion_mask": {
      "base": "file",
      "optional": true,
      "description": "an optional lesion (or lesion+CSF) mask to remove incorrectly labelled \"grey matter\" voxels",
      "type": {
        "enum": [
          "nifti"
        ]
      }
    }
  },
  "config": {
    "BET": {
      "default": "",
      "description": "BET options. If you want to change the BET defaults, put BET options here. For example, to increase the size of brain estimation, use: \"-f 0.3\"",
      "id": "-B",
      "type": "string"
    },
    "OPTIBET": {
      "default": false,
      "description": "Use optiBET to perform brain-extractions. This option provides extraction even in patients brains, where extensive pathology may be present (see: https://montilab.psych.ucla.edu/fmri-wiki/optibet/). [default=false]",
      "id": "-d",
      "type": "boolean"
    },
    "BOTTOM": {
      "default": "",
      "description": "number of millimeters to ignore downwards in MNI152/Talairach space [default='']",
      "id": "-b",
      "type": "string"
    },
    "DEBUG": {
      "default": false,
      "description": "debug (don't delete intermediate files) [default=false]",
      "id": "-d",
      "type": "boolean"
    },
    "SEG": {
      "default": false,
      "description": "two-class segmentation (don't segment grey and white matter separately) - use this if there is poor grey/white contrast [default=false]",
      "id": "-2",
      "type": "boolean"
    },
    "S_FAST": {
      "default": "",
      "description": "if you want to change the segmentation defaults, put FAST options inside double-quotes after using the -S flag. For example, to increase the number of segmentation iterations use: -S \"-i 20\"",
      "id": "-S",
      "type": "string"
    },
    "T2": {
      "default": false,
      "description": "tell FAST that the input images are T2-weighted and not T1 [default=false]",
      "id": "-t2",
      "type": "boolean"
    },
    "TOP": {
      "default": "",
      "description": "number of millimeters to ignore upwards in MNI152/Talairach space [default='']",
      "id": "-t",
      "type": "string"
    },
    "REGIONAL": {
      "default": false,
      "description": "tell SIENAX to estimate \"regional\" volumes as well as global; this produces peripheral cortex GM volume (3-class segmentation only) and ventricular CSF volume [default=false]",
      "id": "-r",
      "type": "boolean"
    }
  },
  "environment": {
    "FSLBROWSER": "/etc/alternatives/x-www-browser",
    "FSLDIR": "/usr/share/fsl/5.0",
    "FSLLOCKDIR": "",
    "FSLMACHINELIST": "",
    "FSLMULTIFILEQUIT": "TRUE",
    "FSLOUTPUTTYPE": "NIFTI_GZ",
    "FSLREMOTECALL": "",
    "FSLTCLSH": "/usr/bin/tclsh",
    "FSLWISH": "/usr/bin/wish",
    "LD_LIBRARY_PATH": "/usr/lib/fsl/5.0",
    "PATH": "/usr/lib/fsl/5.0:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
    "POSSUMDIR": "/usr/share/fsl/5.0"
  },
  "command": "python3 run.py"
}
